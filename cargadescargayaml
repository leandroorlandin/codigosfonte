from ruamel.yaml import YAML

def resolve_references(yaml_data):
    yaml = YAML()
    return yaml.load(yaml.dump(yaml_data))

def process_openapi(input_file, output_file):
    yaml = YAML()
    with open(input_file, "r") as f:
        yaml_data = yaml.load(f)
    
    resolved_data = resolve_references(yaml_data)
    
    with open(output_file, "w") as f:
        yaml.dump(resolved_data, f)

input_file = "openAPI.yaml"
output_file = "openAPI-compiled.yaml"

process_openapi(input_file, output_file)

